<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>猫ゲーム</title>
    <style>
        body { text-align: center; font-family: sans-serif; }
        #house { display: none; margin-top: 20px; }
        #cats { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>猫ゲーム</h1>
    <button id="startBtn">ゲームスタート</button>

    <div id="house">
        <h2>家の中</h2>
        <button id="catBtn">猫</button>
        <div id="cats"></div>
    </div>

    <script>
        const startBtn = document.getElementById('startBtn');
        const house = document.getElementById('house');
        const catBtn = document.getElementById('catBtn');
        const catsDiv = document.getElementById('cats');

        let catCount = 0;

        startBtn.addEventListener('click', () => {
            house.style.display = 'block';
            startBtn.style.display = 'none';
        });

        catBtn.addEventListener('click', () => {
            fetch('/add-cat')
                .then(res => res.json())
                .then(data => {
                    catCount = data.count;
                    const cat = document.createElement('div');
                    cat.textContent = `🐱 猫 ${catCount} が来た！`;
                    catsDiv.appendChild(cat);
                });
        });
    </script>
</body>
</html>
